# 实验结果：临界性验证（噪声 `angle_noise` 作为控制参）

本实验将“临界性”定义为一个**相对干净的相变识别设置**中的高涨落区域，并检验：在追逃任务中，把参数调到更接近该临界区域是否能提升逃跑者集群的任务表现。

## 1. 关键结论（摘要）

1. 在“无追捕者、无安全区、仅保留对齐 + 排斥 + 角噪声”的相变识别设置中，临界性代理指标 `χ = N_e · Var_t(P(t))` 在本轮实验中于 `angle_noise≈1.8 rad` 附近达到峰值，且极化度 `P_mean` 随噪声明显下降。
2. 在追逃任务设置中（固定 `N_p=2`、`w_align=1.0`），`safe_frac` 的最优区域出现在**低噪声**（`angle_noise≈0~0.2 rad`）而非临界附近（`≈1.8 rad`）。在该任务中，“更接近临界（更大 χ）”并未带来更好的逃脱效果。

## 2. 指标与定义

- 极化度：`P(t)`，对 episode 内存活逃跑者速度向量求序参量。
- 临界性代理：`χ = N_e · Var_t(P(t))`（episode 内时间方差，乘以逃跑者数量）。该指标用于定位“高涨落区”，但不等价于严格的临界性证据链。

## 3. 实验 A：相变识别（Phase identification）

### 3.1 设置

- 追捕者：禁用（`N_p=0`）
- 安全区：禁用（`K_active_max=0`）
- 逃跑者策略：去除目标/规避/探索驱动，仅保留对齐与排斥，并扫描角噪声
  - `w_align=1.0`
  - `w_goal=w_avoid=w_explore=0`
- 运行：`steps=1200`；`seeds=20`

### 3.2 产物

- 原始 sweep：`runs/sweep_20260205_171832_phase_noise`
- 报告与图：`doc/results_20260205_phase_noise_wider/report.md`
  - 图：`doc/results_20260205_phase_noise_wider/figs/chi_vs_noise.png`
  - 图：`doc/results_20260205_phase_noise_wider/figs/safe_vs_noise.png`（此设置下 `safe_frac` 不具意义，主要关注 `P_mean` 与 `χ`）

### 3.3 复现命令

`uv run chasecrit phase-sweep-noise --noise 0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0 --seeds 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 --steps 1200 --jobs 8`

## 4. 实验 B：追逃任务中的噪声扫描（Task validation）

### 4.1 设置

- 追捕者数量固定：`N_p=2`（追逐策略 `p0_nearest`）
- 扫描变量：
  - `v_p/v_e ∈ {1.0, 1.1, 1.2}`
  - `angle_noise ∈ {0, 0.2, ..., 3.0}`（步长 0.2）
- 固定：
  - `w_align = 1.0`（与实验 A 一致，确保“噪声相变”对群体有序性有可比意义）
  - 其余任务环境与安全区机制保持 base config（多安全区、容量未知、失效即消失、随机刷新）
- 运行：`steps=600`；`seeds=15`

### 4.2 产物

- 原始 sweep：`runs/sweep_20260205_172202_noise`
- 报告与图：`doc/results_20260205_task_noise_walign1/report.md`
  - 图：`doc/results_20260205_task_noise_walign1/figs/safe_vs_noise.png`
  - 图：`doc/results_20260205_task_noise_walign1/figs/chi_vs_noise.png`
  - 图：`doc/results_20260205_task_noise_walign1/figs/scatter_safe_vs_chi.png`

### 4.3 复现命令

`uv run chasecrit sweep-noise --speed-ratio 1.0 1.1 1.2 --noise 0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0 --seeds 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 --steps 600 --w-align 1.0 --no-save-events --no-save-timeseries --jobs 8`

## 5. 原因分析：为什么“更接近临界”没有带来更高 `safe_frac`

该现象在当前任务与指标定义下较为合理，可能原因包括：

1. **临界性定位与任务动力学不一致**  
   实验 A 的“相变识别”去除了目标与威胁驱动，旨在观察纯粹的群体自发有序/无序转变；而实验 B 的追逃任务包含强外场（目标趋向、追捕规避、安全区刷新），会改变群体统计性质与“有效临界点”。因此，“接近 A 中的临界噪声”不必然对应 B 中的最优策略区。

2. **任务目标偏向“稳定、定向、低误差”的运动**  
   在当前安全区机制中，一旦探测到有效安全区，最直接的成功路径是快速、稳定地朝其移动并避免被捕。增加噪声（即使带来更大涨落）往往只会提高路径弯折与时间损失，从而降低 `safe_frac`。

3. **临界性代理指标 `χ` 过于粗糙**  
   `χ = N_e·Var_t(P)` 捕捉的是“极化度的时间涨落”，但临界性优势更可能体现在**信息传播速度、相关长度、分裂-重组结构**等方面。单用 `χ` 可能无法反映对追逃最关键的群体性质。

4. **场景尚未强制触发“临界态可能擅长的权衡”**  
   临界态常被认为擅长平衡“快速共识 vs 保留多样性”。当前任务中，安全区刷新与目标项可能已经提供了足够探索，而主要瓶颈反而是“到达效率与被捕风险”，这更偏向低噪声的稳定控制。

## 6. 下一步验证方向（更贴近临界优势假说）

为更严格检验“临界态是否能提升追逃任务表现”，建议：

1. 先在不同密度/尺寸下做相变识别（有限尺寸分析），定位更稳健的临界区域（而非单次 χ 峰）。
2. 将任务场景改造得更依赖“探索-利用”的动态权衡，例如：
   - 诱饵/假安全区
   - 安全区移动策略更复杂或信号更噪声化
   - 更强的容量稀缺与拥挤惩罚
3. 引入更贴近临界性的观测指标（空间相关长度、事件级联等），并检验其与任务性能的耦合关系。

