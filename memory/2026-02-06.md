# 2026-02-06 Daily Log

## Code / tooling changes

- Speed optimization (behavior-preserving):
  - Added `EvaderDenseWorkspace` scratch buffers to avoid per-step dense O(N²) allocations.
  - Added `wrap_delta_inplace()` and used it in the dense branch.
  - Simulation now creates and reuses an evader dense workspace when `N_e<=512`.
  - Tests updated to ensure workspace path matches the no-workspace baseline.
- Added additional criticality/structure proxies to `Simulation.summary()` and reporting:
  - `rho1_P`: lag-1 autocorrelation of `P(t)` (within-episode).
  - `tau_P_ar1`: AR(1)-based integrated correlation time proxy `τ=(1+ρ1)/(1-ρ1)`.
  - Reporting updated to include these fields; `report-noise` now also writes `group_summary.csv`.
- Progress files:
  - `runs/<sweep>/progress.txt` now includes `eta_at=<timestamp>` in addition to `eta_s` and run rate.

## Experiments run (expanded scale)

### Fixed pursuer-count scan (higher repeats)

- Command:
  - `uv run chasecrit sweep-grid --config configs/base.toml --speed-ratio 1.1 1.2 --w-align 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55 0.6 0.65 0.7 0.75 0.8 0.85 0.9 0.95 1.0 --seeds 0..99 --steps 600 --no-save-events --no-save-timeseries --jobs 8`
- Raw sweep:
  - `runs/sweep_20260206_132212_grid/`
- Aggregated results:
  - `doc/results_20260206_fixedNp_sr11_sr12_100seeds/`
- Key snapshot (group means):
  - `speed_ratio=1.1`: best `safe_frac` at `w_align=0.70` (`safe_mean≈0.3725`), while `χ` peaks at `w_align=0.20`.
  - `speed_ratio=1.2`: best `safe_frac` at `w_align=0.40` (`safe_mean≈0.3416`), while `χ` peaks at `w_align=0.45`.

### Phase identification (noise control, higher repeats)

- Command:
  - `uv run chasecrit phase-sweep-noise --config configs/base.toml --noise 0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0 --seeds 0..99 --steps 1200 --jobs 8`
- Raw sweep:
  - `runs/sweep_20260206_133544_phase_noise/`
- Aggregated results:
  - `doc/results_20260206_phase_noise_100seeds_steps1200/`
- Key snapshot:
  - `χ` peak near `angle_noise≈1.8 rad`.
  - `χ_local` peak near `angle_noise≈1.4 rad`.

### Task validation (noise sweeps, higher repeats)

- B1 (task, `w_align=0.6`, `speed_ratio=1.1`):
  - Command:
    - `uv run chasecrit sweep-noise --config configs/base.toml --speed-ratio 1.1 --noise 0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0 --seeds 0..99 --steps 600 --w-align 0.6 --no-save-events --no-save-timeseries --jobs 8`
  - Raw: `runs/sweep_20260206_135213_noise/`
  - Aggregated: `doc/results_20260206_task_noise_w06_sr11_100seeds/`
  - Snapshot: best `safe_frac` at `angle_noise=0.0` (monotone decrease as noise increases).
- B2 (task, `w_align=1.0`, `speed_ratio=1.1`):
  - Raw: `runs/sweep_20260206_135744_noise/`
  - Aggregated: `doc/results_20260206_task_noise_w10_sr11_100seeds/`
  - Snapshot: best `safe_frac` at `angle_noise≈0.2` (low-noise optimum; high noise strongly degrades success).

## Docs updated (reader-facing)

- `doc/实验结果-固定追捕者数量扫描.md` now includes Experiment D (seeds=100) and τ proxy.
- `doc/实验结果-临界性验证-噪声控制参.md` now references the seeds=100 noise sweeps and expanded indicators.

## Status / next

- Need to commit + push all uncommitted code, docs, tests, and `doc/results_20260206_*` directories to GitHub.
- Consider whether the phase-identification setting (`w_goal=w_avoid=w_explore=0`) is the right “criticality baseline” for task comparison; it may not match task dynamics.

